<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>

	<title>js check</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

	<!-- 脚本生成验证码并验证 -->
    <script language="javascript" type="text/javascript">  
       
		var code ; //在全局定义验证码  
	 
		function createCode()   //创建验证码
		{    
			code = "";   
			var codeLength = 5;	//验证码的长度   
			var checkCode = document.getElementById("checkCode");	//获取页面元素
			var selectChar = new Array(0,1,2,3,4,5,6,7,8,9,'a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z');//所有候选组成验证码的字符，当然也可以用中文的   
			   
			for(var i=0;i<codeLength;i++)	//随机生成验证码
			{   
				var charIndex = Math.floor(Math.random()*36);  //floor()返回小于或者等于指定表达式的最大整数, random()生成0到1之间随机数 
				code += selectChar[charIndex];	//累加称指定长度的字符串
			}   
	 
			if(checkCode)   //若放置验证码的页面元素存在
			{   
				checkCode.className="code";	//设置元素class属性
				checkCode.value = code;   //设置元素alue属性
			}   
			  
		}   
        
		function validate ()   //验证输入的内容
		{   
			var inputCode = document.getElementById("input").value;   //获取输入内容
			
			if(inputCode.length <=0)   
			{   
				alert("请输入验证码！");   
			}   
			else if(inputCode != code )   
			{   
				alert("验证码输入错误！");   
				createCode();	//刷新验证码   
			}   
			else   
			{   
				alert("验证成功！");   
			}   
			  
		}   
          
    </script> 

	<!-- 定义验证码样式 -->
    <style type="text/css">  
        .code   
        {   
            background-image:url(code.jpg);  
            font-family:Georgia,Arial,Serif;
			padding:2px 2px 2px 4px;   
            letter-spacing:4px;
            font-weight:bolder;  
            font-style:oblique;  
            color:Red;   
            border:0; 
			font-size:20px;
 
        }   
 
    </style> 
	
</head> 
 
<!-- body加载时放置验证码 -->
<body onload="createCode()"> 

	<form action="">  
		<input type="text" id="checkCode" onclick="createCode()" size="8" readonly="readonly"/>
		<input type="text" id="input"/>  
		<input type="submit" onclick="validate();" value="验证"/>    
	</form>  
</body> 
 
</html>